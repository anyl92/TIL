## 웹 동작 방식

1. 사용자가 브라우저에 URL을 입력
2. 웹 브라우저에서 DNS를 통해 서버의 진짜 주소를 찾음
3. 클라이언트에서 HTTP 프로토콜을 사용해서 HTTP 요청 메시지를 생성
4. TCP/IP 연결을 통해 HTTP 요청이 서버로 전송(OS<택배 회사>에 송신을 의뢰..)
5. 서버에서 HTTP 프로토콜을 사용해서 HTTP 응답 메시지를 생성
6. TCP/IP 연결을 통해 HTTP 응답을 요청한 클라이언트로 전송
7. 도착한 HTTP 응답은 웹페이지에서 데이터로 변환, 브라우저에 출력



## 3-way-handshake

1. 클라이언트는 서버에 접속을 요청하는 SYN(a) 패킷을 보낸다.
2. 서버는 클라이언트의 요청인 SYN(a)를 받고 클라이언트에게 요청을 수락한다는 ACK(a+1)와 SYN(b)이 설정된 패킷을 발송한다.
3. 클라이언트는 서버의 수락 응답인 ACK(a+1)와 SYN(b) 패킷을 받고 ACK(b+1)를 서버로 보내면 연결이 성립된다.



## 4-way-handshake

1. 클라이언트가 연결을 종료하겠다는 FIN 신호를 보낸다.
2. 서버는 요청을 받고 알겠다는 메시지로 ACK를 보낸다.
3. 데이터를 모두 보낼 때까지 잠깐 TIME_OUT 된다.
4. 모두 보내고 통신이 끝나면 서버는 클라이언트에게 연결이 종료됨의 FIN 신호를 보낸다.
5. 클라이언트는 이를 확인했다는 메시지로 ACK를 보낸다.
6. 클라이언트의 ACK를 받은 서버는 연결을 해제한다, 클라이언트는 아직 남은 데이터가 있을 것을 대비해 잉여 패킷을 기다린다.(TIME_WAIT)



SYN (synchronize sequence number)

ACK (ACKnoweledgement)



## TCP, UDP

TCP는 위의 과정을 거치면서 높은 신뢰성을 보장하지만 속도가 비교적 느리다. 파일 교환.

UDP는 신뢰성이 떨어지지만 속도가 빠르다. 실시간 스트리밍.



## HTTP, HTTPS (Hyper Text Transfer Protocal)

- HTTP는 평문 통신이기 때문에 도청이 가능
- 통신 상대를 확인하지 않기 때문에 위장이 가능
- 완전성을 증명할 수 없기 때문에 변조가 가능

(암호화하지 않은 프로토콜의 공통적인 문제점들)



보안 방법

1. 통신 자체를 암호화 -> SSL(Secure Socket Layer) or TLS(Transport Layer Security) 프로토콜 조합으로 통신 내용을 암호화할 수 있다.

2. 콘텐츠를 암호화 -> HTTP 메시지에 포함되는 콘텐츠만 암호화. 받는 측에서 해독하여 출력.



이 중 SSL은,

상대를 확인하는 수단으로 **증명서**를 제공하고 있음.



#### HTTPS

HTTP는 원래 TCP와 직접 통신했지만, HTTPS에서 HTTP는 SSL과 통신하고 SSL이 TCP와 통신하게 된다.

평문 통신에 비해 CPU나 메모리 등 리소스가 많이 필요하다. 그래서 이전에는 민감한 정보를 다룰 때만 사용했다.

그렇지만 HTTP 2.0 이 발전되면서 HTTPS가 HTTP보다 빨라졌다.