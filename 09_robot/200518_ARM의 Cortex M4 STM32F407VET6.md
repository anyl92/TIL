### 200518_ARM의 Cortex M4 STM32F407VET6



#### ARM

- 1985년 캠브리지 대학의 연구진이 RISC를 개발하고 이를 PC 시장에서 상용화하기 위해 ARM(Acorn RISC Machine) 이라는 이름으로 세운 벤처기업의 이름이 시발점이다. 이 회사의 Acorn Archimedes 시리즈는 첫 ARM CPU를 채택한 PC로 영국에서 상당한 인기를 누렸다.
- 1990년 적절한 성능에 적절한 전력을 소모하는 마이크로프로세서를 개발하기 위해 애플과 VLSI Technology와의 조인트 벤처를 설립하면서 ARM(Advanced RISC Machine) 으로 이름을 변경했다.
- 1998년 즈음 마이크로컨트롤러 업계에서 입지를 굳히기 시작했다. 그 후 ARM9, 10, 11로 CPU 구조를 계속 발전시키면서 ARM의 시장 영역은 모바일 단말, PDA, 고성능 컨트롤러, DSP Codec으로 점차 확대되었으며 임베디드 리눅스의 열풍을 타고 SoC 계열의 제품이 시장에서 자리잡게 되었다. 이 때 등장한 인텔의 StrongARM 계열 제품과 삼성전자의 S3C24x0 계열 제품이 유명하다.
- 2000년대 중반 이후 임베디드 열풍이 잠시 소강상태를 맞이하였지만 공유기, 차량용 내비게이션, PMP 등으로 시장에 안착하는 데 성공, 결국 스마트폰 시대를 맞이하면서 본격 포텐이 터지기 시작했다.
- Cortex-A/R/M 제품군을 도입하며 용도에 따라 여러 CPU 구조를 개발하게 된다. 일반 OS 상에서 실행되는 애플리케이션 실행 능력에 중점을 둔 A, Real-Time 용도에 특화된 R, 마이크로컨트롤러 시장을 타겟으로 한 M으로 분리.
- *Cortex-A (Application)*
  - 엔트리 ~ 서버급까지 다양한 플랫폼에서의 지원을 목적으로 만들어진 ARM의 주력 상품군. 스마트폰, TV 등의 멀티미디어 기기나 많은 양의 리소스를 처리해야 하는 임베디드 기기에서 주로 사용
- *Cortex-R (Real-Time)*
  - RTOS 기반으로 작동하는 제품을 위한 라인업. MPU(메모리 보호 유닛)이나 TCM(Tight-Coupled Memory) 등 RTOS에서 신뢰성 높은 동작을 위한 장치들을 포함. 주로 3G/LTE 모뎀이나 RTOS 기반의 스탠드-얼론 제품, DSP 등의 용도로 사용
  - RTOS: Real-Time Operating System 의 줄임말. 원하는 작업을 요구되는 시간 내에 처리할 수 있다는 것을 보장하는 운영 체제. 시스템의 시간 관리 부분에 많은 비중을 투자하여, 응용 프로그램의 처리 요청을 정해진 시간 내에 끝마칠 수 있는 성능에 비중을 둔다. 선점형 멀티 태스킹을 지원하고 각 프로세스의 실행 순서를 정의하는 데 많은 비중을 투자한다. 또한, 임베디드 시스템 특성상 시스템을 재부팅하지 않는 경우가 흔하기 때문에 동적 메모리 할당을 최적화하여 메모리 단편화를 허용하지 않는다.
  
- ***Cortex-M (Microcontroller unit)***
  - MCU 기반으로 작동하는 제품을 위한 라인업. 이번 프로젝트에서 이 Cortex-M4 제품을 사용할 것이다.



#### MCU

집적 회로 안에 프로세서와 메모리, 입출력 버스 등의 최소한의 컴퓨팅 요소를 내장한 초소형 컨트롤러. 보통 임베디드 애플리케이션용으로 설계된 연산 장치를 뜻한다. 

단일 또는 다중의 CPU와 프로그래밍 가능한 타이머, PWM 모듈, 많은 수의 I/O, 각종 통신 장치들(SPI, UART, ...)과 프로그램과 데이터를 저장하기 위한 메모리(SRAM, EEPROM, ...)를 같이 가지고 있다. 

보통 CPU와 각종 메모리, 전원 및 클럭 세팅, 각종 통신 장치, ADC, Timer, 인터럽트, 입출력 장치가 하나의 칩에 들어있는 구조이다.

임베디드 시스템에 적합하게 디자인된 물건이 많아 성능 자체는 뛰어나다고 볼 수 없지만, 단순하고 신뢰성 있으며 전력소모가 적고 저렴하다. 성능이 뛰어나지 못한 제품을 계속 쓰는 이유는 성능보다 전기적인 특성과 안정성을 추구하는 분야이기 때문이다.



#### Cortex-M4 STM32F407VET6

DSP, FPU 를 포함하는 고성능 MCU (플래시: 64KB~2MB)

*DSP - RTOS 계산에 사용되는 마이크로프로세서, 디지털 신호 처리를 위해 사용*

*FPU - 부동 소수점 장치, M4부터 도입되었으며 다양한 수학 계산을 할 수 있고 계산이 빠르다.*

![Cortex-M4 STM32F407VET6](./Cortex-M4_STM32F407VET6.png)