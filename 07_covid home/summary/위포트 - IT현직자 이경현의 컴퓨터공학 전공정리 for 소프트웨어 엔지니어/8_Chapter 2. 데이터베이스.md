Chapter 2. 데이터베이스



1. 데이터베이스

특정 조직의 여러 사용자가 공유하여 사용할 수 있도록 통합해서 저장한 운영 데이터의 집합

* 실시간 접근 : 사용자의 데이터 요구에 실시간으로 응답
* 계속 변화 : 데이터의 계속적인 삽입, 삭제, 수정을 통해 현재의 정확한 데이터를 유지
* 동시 공유 : 서로 다른 데이터의 동시 사용뿐만 아니라 같은 데이터의 동시 사용도 지원
* 내용 기반 참조 : 데이터가 저장된 주소가 아닌 내용으로 참조



2. 데이터의 분류

* 정형 데이터 : 스프레드시트, 데이터베이스 테이블
* 비정형 데이터 : 텍스트, 영상, 이미지, 워드
* 반정형 데이터 : HTML, XML, JSON / 웹 로그, 센서 데이터



3. DBMS

파일 시스템의 문제를 해결하기 위해 제시된 소프트웨어, 조직에 필요한 데이터를 데이터베이스에 통합하여 저장하고 관리함

* 1세대 : 네트워크 DBMS(그래프 형태), 계층 DBMS(트리 형태)
* 2세대 : 관계 DBMS - 데이터베이스를 테이블 형태로 구성 (오라클, MS SQL 서버, MySQL)
* 3세대 : 객체지향 DBMS(오투, 온투스, 젬스톤), 객체관계 DBMS(객체+관계)
* 4세대 : NoSQL DMBS- 비정형 데이터 적합 확장성 뛰어남(몽고디비, 카산드라), NewSQL DBMS - 관계DBMS + NoSQL확장 및 유연성(구글 스패터, 볼트DB, 누오DB)



4. 용어

* 스키마 : 데이터 구조와 제약조건을 정의한 것
* 인스턴스 : 스키마에 따라 실제로 저장된 값
* 데이터 독립성
  * 하위 스키마를 변경해도 상위 스키마가 영향을 받지 않는 특성
  * 논리적 데이터 독립성
  * 물리적 데이터 독립성



5. 데이터 모델링

현실 데이터를 컴퓨터 데이터베이스로 옮기는 변환 과정

- 개념적 데이터 모델링 : 현실 세계의 중요 데이터를 개념 세계로 옮기는 작업 -> 개체-관계 모델
- 논리적 데이터 모델링 : 개념 세계의 데이터를 데이터베이스에 저장하는 구조로 표현하는 작업 -> 관계 데이터 모델



6. 개체-관계 모델

* 개체
  * 현실 세계에서 조직을 운영하는 데 꼭 필요한 사람이나 사물과 같이 구별되는 모든 것
  * 저장할 가치가 있는 중요 데이터를 가지고 있는 사람이나 사물, 개념, 사건 등

* 개체 타입
  * 개체를 고유의 이름과 속성들로 정의한 것
  * 파일 구조의 레코드 타입에 대응됨
* 개체 인스턴스
  * 개체를 구성하고 있는 속성이 실제 값을 가짐으로써 실체화된 개체
  * 개체 어커런스라고도 함
  * 파일 구조의 레코드 인스턴스에 대응됨
* 개체 집합
  * 특정 개체 타입에 대한 개체 인스턴스들을 모아놓은 것
* 속성
  * 개체나 관계가 가지고 있는 고유의 특성
  * 의미 있는 데이터의 가장 작은 논리적 단위
* 속성의 분류
  * 단일 값 속성과 다중 값 속성
  * 단순 속성과 복합 속성
  * 유도 속성 : 기존의 다른 속성 값에서 유도되어 결정되는 속성
  * 널 속성 : 널 값 허용
  * 키 속성 : 개체 인스턴스를 식별하는데 사용
* 관계
  * 개체 집합들 사이의 대응 관계 -> 매핑



7. 뷰

기본 테이블을 들여다볼 수 있는 창의 역할을 담당

* 장점
  * 질의문을 좀 더 쉽게 작성할 수 있음
  * 데의터의 보안 유지에 도움
  * 데이터를 좀 더 편리하게 관리



8. 데이터베이스 설계단계

   1단계 - 요구사항 분석

   	- 용도 파악
   	- 결과물 : 요구 사항 명세서

   2단계 - 개념적 설계

   	- DBMS에 독립적인 개념적 구조 설계
   	- 결과물 : 개념적 스키마 (E-R 다이어그램)

   3단계 - 논리적 설계

   	- DBMS에 적합한 논리적 구조 설계
   	- 결과물 : 논리적 스키마 (릴레이션 스키마)

   4단계 - 물리적 설계

   	- DBMS로 구현 가능한 물리적 구조 설계
   	- 결과물 : 물리적 스키마

   5단계 - 구현

   	- SQL문을 작성한 후 이를 DBMS에서 실행하여 데이터베이스 생성



9. 정규화의 개념과 이상현상

* 이상현상

  * 불필요한 데이터 중복으로 인해 릴레이션에 대한 삽입, 수정, 삭제 연산을 수행할 때 발생할 수 있는 부작용

* 정규화

  * 이상 현상이 발생하지 않도록, 릴레이션을 관련 있는 속성들로만 구성하기 위해 릴레이셔늘 분해하는 과정
  * 함수적 종속성을 판단하여 수행 (속성들 간의 관련성, 연관성이 있는 속성들로만 구성되도록 분해)
  * 정규화를 통해 무손실 분해 되어야 함

* 정규형

  1NF, 2NF, 3NF, BCNF, 4NF, 5NF

  5NF라고 무조건 좋은 건 아니고 일반적으로 3정규형이나 보이스/코드 정도로 데이터 중복을 줄이고 이상 현상을 해결하는 경우도 많다



10. 트랜잭션

* 하나의 작업을 수행하기 위해 필요한 데이터베이스 연산들을 모아놓은 것
* 작업 수행에 필요한 SQL 문들의 모임
* 논리적인 작업의 단위
* 장애 발생 시 복구 작업이나 병행 제어 작업을 위한 중요한 단위로 사용됨
* 데이터베이스의 무결성과 일관성을 보장하기 위해 작업 수행에 필요한 연산들을 하나의 트랜잭션으로 제대로 정의하고 관리해야 함